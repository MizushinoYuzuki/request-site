<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Palette+Mosaic&family=Zen+Kaku+Gothic+New&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="images/icon/icon_white.png" />
        <title>Mizushino</title>
        <link rel="stylesheet" href="css/pricing-style.css" />
    </head>

    <body class="link-transition">
        <header>
            <nav class="nav-container">
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <ul class="menu" id="nav-menu">
                    <li><a href="index.html">About</a></li>
                    <li><a href="works.html">Works</a></li>
                    <li><a href="#">Pricing</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <!-- <h1>ã”ä¾é ¼ã«ã¤ã„ã¦</h1>
                <p>ä»¥ä¸‹ã®å†…å®¹ã‚’ã”ç¢ºèªã®ä¸Šã€ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã”ç›¸è«‡ãã ã•ã„ã€‚</p> -->
            </nav>
        </header>

        <main>
            <section class="pricing">
                <h2>æ–™é‡‘ã®ç›®å®‰</h2>
                <ul>
                <li>åŸºæœ¬æ–™é‡‘ï¼šÂ¥8,000</li>
                </ul>
            </section>

            <section class="form">
                <h2>ä¾é ¼ãƒ•ã‚©ãƒ¼ãƒ </h2>
                <form action="https://formspree.io/f/xvgalrbr" method="POST">
                <label>
                    ãŠåå‰ï¼š
                    <textarea name="penname" rows="1"></textarea>
                </label>

                <!-- <label>
                    SNSï¼š
                    <textarea name="sns" rows="4"></textarea>
                </label> -->
                
                <label>
                    ä¾é ¼å†…å®¹ï¼š
                    <select name="type" id="mvType" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="cover">ã‚«ãƒãƒ¼æ¥½æ›²MV</option>
                    <option value="original">ã‚ªãƒªã‚¸ãƒŠãƒ«æ¥½æ›²MV</option>
                    <option value="3dcg">3DCG</option>
                    <option value="motion">ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹</option>
                    <option value="video">å‹•ç”»ç·¨é›†ï¼ˆPremiere Proï¼‰</option>
                    </select>
                </label>

                <div id="coverOptions" style="display: none; /* margin-top: 1rem; */ ">
                    <label>
                        MVã‚¹ã‚¿ã‚¤ãƒ«ï¼š
                        <select name="coverStyle">
                            <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                            <option value="honke">æœ¬å®¶é¢¨MV</option>
                            <option value="original_cover">å®Œå…¨ã‚ªãƒªã‚¸ãƒŠãƒ«MV</option>
                        </select>
                    </label>
                </div>

                <label>
                    ç´æœŸã®å¸Œæœ›ï¼š
                    <select name="count" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option>2é€±é–“ä»¥å†…</option>
                    <option>1æœˆä»¥å†…</option>
                    <option>2æœˆä»¥å†…</option>
                    <option>3æœˆä»¥å†…</option>
                    <option>4æœˆä»¥å†…</option>
                    <option>5æœˆä»¥å†…</option>
                    <option>åŠå¹´ä»¥å†…</option>
                    <option>æŒ‡å®šãªã—</option>
                    </select>
                </label>

                <label>
                    3DCGã®ä½¿ç”¨ï¼š
                    <select name="3DCGä½¿ç”¨" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option>æœªä½¿ç”¨</option>
                    <option>ä¸€éƒ¨ä½¿ç”¨</option>
                    <option>å…¨éƒ¨ä½¿ç”¨</option>
                    </select>
                </label>

                <label>
                    åˆå”±äººæ•°ï¼ˆ+1äººã”ã¨ã«+Â¥2,000ï¼‰ï¼š
                    <select name="åˆå”±äººæ•°" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option>1äºº</option>
                    <option>2äºº</option>
                    <option>3äºº</option>
                    <option>4äºº</option>
                    <option>5äººä»¥ä¸Š</option>
                    </select>
                </label>

                <label>
                    ã”å¸Œæœ›ã®é€£çµ¡æ‰‹æ®µï¼š
                    <select name="contact" id="contactSelect" required>
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="ãƒ¡ãƒ¼ãƒ«">ãƒ¡ãƒ¼ãƒ«</option>
                    <option value="Xã®DM">X(æ—§Twitter)</option>
                    <option value="Discord">Discord</option>
                    <option value="Slack">Slack</option>
                    </select>
                </label>
                    
                <div id="mailaddress" style="display: none;">
                    <label>
                        ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š
                        <input type="email" name="email">
                    </label>
                </div>

                <div id="xDM" style="display: none;">
                    <label>
                        Xã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼š
                        <textarea name="xAccount" rows="1"></textarea>
                    </label>
                </div>

                <div id="discordDM" style="display: none;">
                    <label>
                        Discordã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼š
                        <textarea name="discordAccount" rows="1"></textarea>
                    </label>
                </div>

                <div id="slackDM" style="display: none;">
                    <label>
                        Slackï¼š
                        <textarea name="slackAccount" rows="1"></textarea>
                    </label>
                </div>

                <fieldset>
                    <legend>è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆè©²å½“ã™ã‚‹ã‚‚ã®ã«ãƒã‚§ãƒƒã‚¯ï¼‰</legend>
                    <div id="originalOptions" style="display: none; margin-bottom: 1.3rem;">
                        <label>
                            <input type="checkbox" name="storyboardMeeting">
                            çµµã‚³ãƒ³ãƒ†ã‹ã‚‰ã®æ‰“ã¡åˆã‚ã›ã‚’å¸Œæœ›ã™ã‚‹
                        </label>
                    </div>
                    <label><input type="checkbox" name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³" value="ç«‹ã¡çµµã®é«ªæºã‚Œã‚ã‚Š" /> ç«‹ã¡çµµã®é«ªæºã‚Œã‚ã‚Š</label><br />
                    <label><input type="checkbox" name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³" value="ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¨˜è¼‰ãªã—" /> ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¨˜è¼‰ãªã—</label><br />
                    <label><input type="checkbox" name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³" value="è‘—ä½œæ¨©è­²æ¸¡" /> è‘—ä½œæ¨©è­²æ¸¡</label><br />
                    <label><input type="checkbox" name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³" value="å•†ç”¨åˆ©ç”¨" /> å•†ç”¨åˆ©ç”¨</label><br />
                    <label><input type="checkbox" name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³" value="ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰ä¸å¯" /> ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰ä¸å¯</label><br />
                    <label><input type="checkbox" name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³" value="é§†ã‘å‡ºã—ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼å¿œæ´å€¤å¼•ã" />é§†ã‘å‡ºã—ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼å¿œæ´å€¤å¼•ã<br />
                    <small>
                        â€» æ´»å‹•é–‹å§‹ã‹ã‚‰1å¹´ä»¥å†…ã®æ´»å‹•è€…ã•ã¾ã®ã¿ã§ã™ã€‚<br />
                        â€» æœˆ1ã®ã¿ã®å¯¾å¿œã¨ãªã‚Šã¾ã™ã€‚
                    </small>
                </label>
                </fieldset>

                <!-- <label>
                    ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<small>(ä»»æ„)</small>ï¼š
                    <input type="email" name="email">
                </label> -->

                <label>
                    ãã®ä»–ã”è¦æœ›ï¼š
                    <textarea name="message" rows="4"></textarea>
                </label>

                <div id="totalDisplay">åˆè¨ˆé‡‘é¡: Â¥0</div>
                <button type="submit">é€ä¿¡</button>
                </form>

                <div class="share-buttons">
                    <button id="shareViaEmail" type="button">ãƒ¡ãƒ¼ãƒ«ã§å†…å®¹ã‚’å…±æœ‰</button>
                    <button id="shareViaX" type="button">Xç”¨ã«å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼</button>
                </div>
            </section>

            <script>
            document.addEventListener("DOMContentLoaded", function () {
                const basePrice = 8000;
                const deadlineSelect = document.querySelector('select[name="count"]');
                const myType = document.getElementById("mvType");
                const coverOptions = document.getElementById("coverOptions");
                const originalOptions = document.getElementById("originalOptions");
                const cgSelect = document.querySelector('select[name="3DCGä½¿ç”¨"]');
                const chorusSelect = document.querySelector('select[name="åˆå”±äººæ•°"]');
                const contactSelect = document.getElementById("contactSelect");
                const mailaddress = document.getElementById("mailaddress");
                const xDM = document.getElementById("xDM");
                const discordDM = document.getElementById("discordDM");
                const slackDM = document.getElementById("slackDM");
                const checkboxes = document.querySelectorAll('input[type="checkbox"][name="ã‚ªãƒ—ã‚·ãƒ§ãƒ³"]');
                const totalDisplay = document.getElementById("totalDisplay");
                const hamburger = document.getElementById("hamburger");
                const navMenu = document.getElementById("nav-menu");
                const form = document.getElementById("requestForm");
                const shareViaEmailBtn = document.getElementById("shareViaEmail");
                const shareViaXBtn = document.getElementById("shareViaX");

                let lastCalculatedTotal = 0;

                function calculate() {
                let total = basePrice;
                let multiplier = 1;

                // 3DCGä½¿ç”¨
                switch (cgSelect.value) {
                    case "ä¸€éƒ¨ä½¿ç”¨":
                    total += 5000;
                    break;
                    case "å…¨éƒ¨ä½¿ç”¨":
                    total += 20000;
                    break;
                }

                // åˆå”±äººæ•°
                switch (chorusSelect.value) {
                    case "2äºº":
                    total += 2000;
                    break;
                    case "3äºº":
                    total += 4000;
                    break;
                    case "4äºº":
                    total += 6000;
                    break;
                    case "5äººä»¥ä¸Š":
                    total += 8000;
                    break;
                }

                // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹é …ç›®
                let discount = 0;
                
                checkboxes.forEach((cb) => {
                    if (cb.checked) {
                    switch (cb.value) {
                        case "ç«‹ã¡çµµã®é«ªæºã‚Œã‚ã‚Š":
                        total += 2000;
                        break;
                        case "ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¨˜è¼‰ãªã—":
                        total += 10000;
                        break;
                        case "è‘—ä½œæ¨©è­²æ¸¡":
                        multiplier *= 1.5;
                        break;
                        case "å•†ç”¨åˆ©ç”¨":
                        multiplier *= 1.5;
                        break;
                        case "ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæ²è¼‰ä¸å¯":
                        multiplier *= 2;
                        break;
                        case "é§†ã‘å‡ºã—ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼å¿œæ´å€¤å¼•ã":
                        discount = total / 2;
                        break;
                    }
                    }
                });

                // â° ç´æœŸãŒ2é€±é–“ä»¥å†…ãªã‚‰è¿½åŠ æ–™é‡‘
                if (deadlineSelect.value === "2é€±é–“ä»¥å†…") {
                    total += 10000;
                }

                let finalTotal = Math.round(total * multiplier - discount);
                lastCalculatedTotal = finalTotal;
                totalDisplay.textContent = `ğŸ§® å‚è€ƒæ–™é‡‘ï¼šÂ¥${finalTotal.toLocaleString()}`;
                }

                function generateSummaryText() {
                    const formData = new FormData(form);
                    const selectedOptions = [];
                    formData.getAll('ã‚ªãƒ—ã‚·ãƒ§ãƒ³').forEach(option => {
                        selectedOptions.push(`- ${option}`);
                    });

                    let contactDetails = '';
                    const contactMethod = formData.get('contact');

                    if (contactMethod === 'ãƒ¡ãƒ¼ãƒ«') {
                        contactDetails = ` - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: ${formData.get('email') || '(æœªè¨˜å…¥)'}`;
                    } else if (contactMethod === 'Xã®DM') {
                        contactDetails = `  - Xã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: ${formData.get('xAccount') || '(æœªè¨˜å…¥)'}`;
                    } else if (contactMethod === 'Discord') {
                        contactDetails = `  - Discordã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: ${formData.get('discordAccount') || '(æœªè¨˜å…¥)'}`;
                    } else if (contactMethod === 'Slack') {
                        contactDetails = `  - Slackã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: ${formData.get('slackAccount') || '(æœªè¨˜å…¥)'}`;
                    }

                    const summary = `
                    
                    ã€ã”ä¾é ¼å†…å®¹ã€‘
                    
                    â– ãŠåå‰:
                    ${formData.get('penname') || ' (æœªè¨˜å…¥) '}
                    
                    â– ã”ä¾é ¼å†…å®¹:
                    ${formData.get('type') || ' (æœªé¸æŠ) '}
                    ${formData.get('type') === 'cover' ? ` - MVã‚¹ã‚¿ã‚¤ãƒ«: ${formData.get('coverStyle') || ' (æœªè¨˜å…¥) '}` : ''}
                    
                    â– ç´æœŸã®å¸Œæœ›:
                    ${formData.get('count') || ' (æœªé¸æŠ) '}
                    
                    â– 3DCGã®ä½¿ç”¨:
                    ${formData.get('3DCGä½¿ç”¨') || ' (æœªé¸æŠ) '}
                    
                    â– åˆå”±äººæ•°:
                    ${formData.get('åˆå”±äººæ•°') || ' (æœªé¸æŠ) '}
                    
                    â– è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³:
                    ${selectedOptions.length > 0 ? selectedOptions.join('\n') : 'ãªã—'}
                    
                    â– ã”å¸Œæœ›ã®é€£çµ¡æ‰‹æ®µ:
                    ${contactMethod || ' (æœªé¸æŠ) '}
                    ${contactDetails}
                   
                    â– ãã®ä»–ã”è¦æœ›:
                    ${formData.get('message') || ' (æœªè¨˜å…¥) '}
                    
                    ---------------------------------
                    â– å‚è€ƒæ–™é‡‘: Â¥${lastCalculatedTotal.toLocaleString()}`;
                        return summary.trim();
                }

                shareViaEmailBtn.addEventListener("click", function() {
                    const subject = "ã”ä¾é ¼å†…å®¹ã®ã”ç›¸è«‡";
                    const body = encodeURIComponent(generateSummaryText());
                    window.location.href = `mailto:?subject=${subject}&body=${body}`;
                });

                shareViaXBtn.addEventListener("click", function() {
                    const textToCopy = generateSummaryText();
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        alert("ã”ä¾é ¼å†…å®¹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚\nXã®DMãªã©ã«è²¼ã‚Šä»˜ã‘ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚");
                    }).catch(err => {
                        console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ', err);
                        alert("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");
                    });
                });

                cgSelect.addEventListener("change", calculate);
                chorusSelect.addEventListener("change", calculate);
                deadlineSelect.addEventListener("change", calculate);
                checkboxes.forEach((cb) => cb.addEventListener("change", calculate));
                contactSelect.addEventListener("change", function () {
                    const selected = contactSelect.value;

                    if (selected === "ãƒ¡ãƒ¼ãƒ«") {
                        mailaddress.style.display = "block";
                    } else {
                        mailaddress.style.display = "none";
                    }

                    if (selected === "Xã®DM") {
                        xDM.style.display = "block";
                    } else {
                        xDM.style.display = "none";
                    }

                    if (selected === "Discord") {
                        discordDM.style.display = "block";
                    } else {
                        discordDM.style.display = "none";
                    }

                    if (selected === "Slack") {
                        slackDM.style.display = "block";
                    } else {
                        slackDM.style.display = "none";
                    }
                });

                mvType.addEventListener("change", function () {
                    const selected = mvType.value;

                    //åˆæœŸçŠ¶æ…‹ã§éè¡¨ç¤º
                    coverOptions.style.display = "none";
                    originalOptions.style.display = "none";
    
                    if (selected === "cover") {
                        coverOptions.style.display = "block";
                    } else if (selected === "original") {
                        originalOptions.style.display = "block";
                    }
                });

                hamburger.addEventListener("click", function () {
                    hamburger.classList.toggle("active");
                    navMenu.classList.toggle("show");
                });

                //ã€€åˆå›è¡¨ç¤º
                calculate();
            });
        </script>
    </body>
</html>



